// エラーの存在を判定
<% if @category.errors.any? then %>
// 作成中のフォーム表示と、エラーメッセージの表示
$(".categories___article--form").html("<%= escape_javascript( render 'admin/categories/form', category: @category ) %>");
// エラー項目にエラー項目通知用のclassを適用する
<% @category.errors.each do | column, message | %>
$("#category_<%= column %>").addClass("application__errors--textField");
<% end %>
<% else %>
// 作成に成功した場合
// 成功の通知
alert("新しいカテゴリ「<%= @category.name %>」\nを追加しました。");
// フォームのリセット
$(".categories___article--form").html("<%= escape_javascript( render 'admin/categories/form', category: Category.new ) %>");
// 新しく作成したカテゴリに対応するクラス名の作成
let className = '<%= "categories___article--#{@category.id}" %>';
// エラーがなければ、一覧の最後尾に項目を追加
$("table").append(`<tr class=${className}><%=  escape_javascript( render 'admin/categories/article', category: @category ) %></tr>`);
// 作成した項目まで移動(admin/categories.js)
moveToEditTag( className );
<% end %>
